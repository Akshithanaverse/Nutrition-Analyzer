<!DOCTYPE html>
<html>
<head>
    <title>Food Analysis App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>Nutritional Image Analysis</h1>
    </header>
    <main class="content">
        <div class="input-section">
            <form method="POST" enctype="multipart/form-data" id="uploadForm">
                <input type="file" name="image" accept="image/*" id="imageInput">
                <label for="imageInput" class="upload-label">Choose an Image</label><br><br>
                 <!-- <textarea name="prompt" id="prompt" rows="4" cols="50">Give a detailed nutrient categorization of the given food in numbers for each macro nutrient division out of 100  and little description and also give the sustainability count out of 100 and calorie count of the food</textarea><br><br> -->
                <button type="submit" class="analyze-button">Analyze</button>
            </form>
            <div id="loading" class="loading-message hidden">Analyzing...</div>
        </div>
        <div class="result-section">
            <div class="image-display">
                <img id="uploadedImage" src="" alt="Uploaded Image" class="uploaded-image hidden">
            </div>
            <div id="output" class="output-container">
                {% if output_text %}
                    <h2>Analysis:</h2>
                    <p>{{ output_text|safe }}</p>
                    <div id="chartContainer" class="chart-container">
                        <canvas id="nutrientChart"></canvas>
                    </div>
                {% endif %}
            </div>
        </div>
    </main>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>